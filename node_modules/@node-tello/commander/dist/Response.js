"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Response = void 0;
/**
 *
 */
class Response {
    /**
     *
     * @param responseData
     */
    constructor(responseData) {
        const { success, value, error } = this._parseResponseData(responseData);
        this._success = success;
        this._value = value;
        this._error = error;
    }
    /**
     *
     * @param responseData
     * @private
     */
    _parseResponseData(responseData) {
        const responseString = responseData.toString('utf-8');
        const response = {
            success: true,
            value: null,
            error: null
        };
        if (responseString.substr(0, 2) === 'ok') {
            return response;
        }
        if (responseString.substr(0, 5) === 'error') {
            response.error = responseString;
            response.success = false;
            return response;
        }
        response.value = responseString.trim();
        return response;
    }
    /**
     *
     */
    get success() {
        return this._success;
    }
    /**
     *
     */
    get value() {
        return this._value;
    }
    /**
     *
     */
    get error() {
        return this._error;
    }
}
exports.Response = Response;
//# sourceMappingURL=Response.js.map